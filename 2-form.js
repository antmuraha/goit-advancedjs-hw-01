var F=t=>{throw TypeError(t)};var O=(t,e,o)=>e.has(t)||F("Cannot "+o);var u=(t,e,o)=>(O(t,e,"read from private field"),o?o.call(t):e.get(t)),y=(t,e,o)=>e.has(t)?F("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),b=(t,e,o,a)=>(O(t,e,"write to private field"),a?a.call(t,o):e.set(t,o),o);import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{t as v}from"./assets/vendor-jqLciiSS.js";var f,m;class j{constructor(e,o){y(this,f);y(this,m);b(this,f,e==="local"?localStorage:sessionStorage),b(this,m,o)}save(e){const o=new FormData(e),a=Object.fromEntries(o.entries()),n={};for(const[i,s]of Object.entries(a))typeof s=="string"?n[i]=s.trim():console.warn(`Value for ${i} is not a string:`,s);u(this,f).setItem(u(this,m),JSON.stringify(n))}get(){const e=u(this,f).getItem(u(this,m));if(!e)return new FormData;try{const o=JSON.parse(e),a=new FormData;for(const[n,i]of Object.entries(o))a.append(n,i);return a}catch(o){console.error("Error parsing JSON",o)}return new FormData}clean(){u(this,f).removeItem(u(this,m))}}f=new WeakMap,m=new WeakMap;function A(t,e){let o=!0;const a=Object.fromEntries(e.entries());for(const[n,i]of Object.entries(a)){const s=t.querySelector(`[name="${n}"]`),d="required"in(s==null?void 0:s.dataset);s&&d&&"value"in s&&!i&&(o=!1)}return o}function S(t,e){const o=e.get(),a=Object.fromEntries(o.entries());for(const[n,i]of Object.entries(a)){const s=t.querySelector(`[name="${n}"]`);s&&"value"in s&&(s.value=i)}}function E(t){if(!t){console.error("Form not found");return}const e=t.getAttribute("action"),o=t.getAttribute("method"),a=t.getAttribute("enctype")||"multipart/form-data",n=t.getAttribute("data-validate-message")||"Please fill out this field",i=t.getAttribute("data-autosave")==="true",s=t.getAttribute("data-storage-type"),d=t.getAttribute("data-restore-key")||"form-data";if(!e){console.error("Form action not found");return}if(!o){console.error("Form method not found");return}const g=new j(s,d);S(t,g);function h(c,r=!1){r&&c.reset()}h(t);function p(c){v.message("Form submitted successfully");const r=new FormData(c),l=Object.fromEntries(r.entries());console.log("Form Data",l),g.clean(),h(c,!0)}t.addEventListener("submit",async c=>{c.preventDefault();const r=new FormData(t);if(!A(t,r)){v.message(n);return}try{(await fetch(e,{method:o,body:r,headers:{"Content-Type":a}})).ok&&p(t)}catch(l){console.log("Simulating successful data submission:",l),p(t)}}),t.addEventListener("input",c=>{var l,D;const r=c.target;if(!(r instanceof HTMLInputElement)&&!(r instanceof HTMLTextAreaElement)){console.error("Input not found or does not support validity");return}(l=r==null?void 0:r.validity)!=null&&l.valid?(r.setCustomValidity(""),r.classList.remove("error")):(D=r==null?void 0:r.validity)!=null&&D.typeMismatch?(r.setCustomValidity(""),r.value?r.classList.add("error"):r.classList.remove("error")):r.setCustomValidity(""),r.getAttribute("name"),r.value,i&&g.save(t)})}E(document.querySelector(".feedback-form"));v.message("Please fill out the feedback form");
